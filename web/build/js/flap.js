(function(){define(["libs/gyro"],function(n){var t,o,e,r,u,a,i,c;return e=!1,c=null,n.frequency=10,r=[],t=function(n){var t,o,e,r;for(o=0,e=0,r=n.length;r>e;e++)t=n[e],o+=t;return o/n.length},a=0,i=0,u=0,document.ontouchmove=function(n){return n.preventDefault()},o="",document.ontouchstart=function(e){return!$("body").hasClass("doflap")||($("body").addClass("touched"),e.stopPropagation(),e.touches.length>1)?void 0:(a=0,i=0,n.startTracking(function(n){var e,d;if(r.push(n),!(r.length<5)&&(e={x:t(r.map(function(n){return n.x})),y:t(r.map(function(n){return n.y})),z:t(r.map(function(n){return n.z}))},r=[],d={x:Math.round(e.x),y:Math.round(e.y),z:Math.round(e.z)},d={x:Math.round(n.x),y:Math.round(n.y),z:Math.round(n.z)},"positive"===o&&d.z<0?i=0:o=d.z<0?"negative":"positive",c=d,d.z<i&&(i=d.z),d.z>a&&(a=d.z),d.z>=-i&&0>i&&a>0&&(console.log("maybe flap",i,a),a>10))){if(Date.now()-u<500)return;return u=Date.now(),setTimeout(function(){return a=0,i=0},500),a=0,i=0,$("body").trigger("flap")}}))},document.ontouchend=function(){return $("body").removeClass("touched"),n.stopTracking()}})}).call(this);