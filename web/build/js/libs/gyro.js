!function(n,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():n.returnExports=e()}(this,function(){function n(){window.addEventListener("MozOrientation",function(n){i.push("MozOrientation"),e.x=n.x-t.x,e.y=n.y-t.y,e.z=n.z-t.z},!0),window.addEventListener("devicemotion",function(n){i.push("devicemotion"),e.x=n.accelerationIncludingGravity.x-t.x,e.y=n.accelerationIncludingGravity.y-t.y,e.z=n.accelerationIncludingGravity.z-t.z},!0),window.addEventListener("deviceorientation",function(n){i.push("deviceorientation"),e.alpha=n.alpha-t.alpha,e.beta=n.beta-t.beta,e.gamma=n.gamma-t.gamma},!0)}var e={x:null,y:null,z:null,alpha:null,beta:null,gamma:null},t={x:0,y:0,z:0,alpha:0,beta:0,gamma:0},a=null,i=[],r={};return r.frequency=500,r.calibrate=function(){for(var n in e)t[n]="number"==typeof e[n]?e[n]:0},r.getOrientation=function(){return e},r.startTracking=function(n){a&&clearInterval(a),a=setInterval(function(){n(e)},r.frequency)},r.stopTracking=function(){clearInterval(a)},r.hasFeature=function(n){for(var e in i)if(n==i[e])return!0;return!1},r.getFeatures=function(){return i},window&&window.addEventListener&&n(),r});